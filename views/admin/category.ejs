<%- include('../partials/admin/header') %>

  <div class="container-fluid">
    <div class="head">
      <div class="header2">
        <a href="/admin/addCategory">
          <button class="create-btn">+ Create New Category</button>
        </a>
      </div>

      <div class="header2">
        <a href="/admin/editCategoryrender">
          <button class="create-btn">Edit Catrgory</button>
        </a>
      </div>
    </div>
    <table class="category-table">
      <thead>
        <tr>
          <th>Category</th>
          <th>Description</th>
          <th>Status</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <% cat.reverse().forEach((cat, index)=> { %>
          <tr>
            <td class="name">
              <%= cat.name %>
            </td>
            <td class="description">
              <%= cat.discription %>
            </td>
            <td class="status" style="color: rgb(233, 5, 5);">
              <%= cat.isActive ? 'Active' : 'Inactive' %>
            </td>
            <td>
              <% if(cat.isBlocked){ %>
                <button class="action-btn" type="button"
                  onclick="window.location.href='/admin/unBlockCategory?id=<%= cat._id %>'">
                  Unblock
                </button>
                <% } else { %>
                  <button class="action-btn" type="button"
                    onclick="window.location.href='/admin/blockCategory?id=<%= cat._id %>'">
                    Block
                  </button>
                  <% } %>
            </td>
          </tr>
          <% }) %>
      </tbody>
    </table>
    <nav aria-label="Page navigation">
      <ul class="pagination">
        <% for(let i=1; i <=totalPage; i++) { %>
          <li class="page-item <%= (i === currentPage) ? 'active' : '' %>" aria-current="page">
            <a class="page-link" href="?page=<%= i %>">
              <%= i %>
            </a>
          </li>
          <% } %>
      </ul>
    </nav>
  </div>


  <%- include('../partials/admin/footer') %>