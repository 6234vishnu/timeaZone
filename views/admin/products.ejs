
<%- include('../partials/admin/header') %>

<div class="container-fluid" style="width: 1150px;margin-left: 50px;">
   

    <div class="product-buttons">
        <button class="product-create-btn" onclick="window.location.href='/admin/addProducts'"> Create New Product</button>
    </div>

    <div class="tabl">
        <table class="productTable" >
            <thead>
                <tr>
                    <th>Product Name</th>
                    <th>Price(regular)</th>
                    <th>Price(sale)</th>
                    <th>Quantity</th>
                    <th>Brand</th>
                    <th>Category</th>
                    <th>Action</th>
                    <th>Block/unBlock</th>
                </tr>
            </thead>
            <tbody>
                <% for(let i=data.length-1;i>=0;i--){ %>

                <tr>
                    <td><%= data[i].name  %></td>
                    <td><%= data[i].regularPrice  %></td>
                    <td><%= data[i].salePrice  %></td>
                    <td><%=data[i].quantity  %></td>
                    <td><%=data[i].brand.name  %></td>
                    <td><%=data[i].category.name  %></td>
                    <td class="product-action-btns">
                        <button class="product-edit-btn" onclick="window.location.href='/admin/editProduct/<%=data[i]._id%>'">Edit</button>



                    </td>
                 <td >
                    <% if(data[i].isBlocked===true){ %>
                        <button
                          class="action-btn"
                          type="button"
                          onclick="window.location.href='/admin/unBlockProduct?id=<%= data[i].id %>'">Unblock</button>
                          
                        <% } else { %>
                        <button
                          class="action-btn"
                          type="button"
                          onclick="window.location.href='/admin/blockProduct?id=<%= data[i].id %>'">Block</button>

                        <% } %>
                 </td>
                </tr>
                
                <% } %>
            </tbody>
        </table>
        <div class="pagination-container">
            <% if (currentPage > 1) { %>
            <a href="?page=<%= currentPage - 1 %>">&laquo; Previous</a>
            <% } %> <% for (let i = 1; i <= totalPages; i++) { %> <% if (i ===
            currentPage) { %>
            <span class="current-page"><%= i %></span>
            <% } else { %>
            <a href="?page=<%= i %>"><%= i %></a>
            <% } %> <% } %> <% if (currentPage < totalPages) { %>
            <a href="?page=<%= currentPage + 1 %>">Next &raquo;</a>
            <% } %>
          </div>
      
    </div>
</div>



<%- include('../partials/admin/footer') %>
